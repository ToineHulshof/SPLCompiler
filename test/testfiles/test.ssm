ldrr R5 R1
bra main
K:
link 2
ldl -2
str RR
bra KEnd
KEnd:
unlink
sts -1
ret
f:
link 1
ldl -2
ldc 1
le
brt Then0
bra EndIf0
Then0:
ldl -2
str RR
bra fEnd
EndIf0:
ldl -2
ldl -2
ldc 1
sub
bsr f
ldr RR
mul
str RR
bra fEnd
fEnd:
unlink
sts -1
ret
id:
link 1
ldl -2
str RR
bra idEnd
idEnd:
unlink
sts -1
ret
main:
link 2
ldc 5
ldc 7
stmh 2
stl 1
ldc 2
ldc 1
stmh 2
stl 2
ldc 30
bsr f
ldr RR
trap 0
ldc 10
trap 1
ldc 5
bsr id
ldr RR
trap 0
ldc 10
trap 1
ldc 1
ldc 0
ldc 2
stmh 2
ldc 1
stmh 2
bsr K
ldr RR
ldc 91
trap 1
list1:
lds 0
ldc 0
eq
brt listEnd1
ldmh 0 2
trap 0
ldc 32
ldc 44
trap 1
trap 1
bra list1
listEnd1:
ldc 93
trap 1
ldc 10
trap 1
bra mainEnd
mainEnd:
unlink
sts -1
halt
