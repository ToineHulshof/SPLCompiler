bra main
fib:
link 0
ldl -2
ldc 2
lt
brt Then
ldl -2
ldc 1
sub
bsr fib
ldr RR
ldl -2
ldc 2
sub
bsr fib
ldr RR
add
str RR
bra End
Then:
ldc 1
str RR
End:
unlink
ret
fac:
link 0
ldl -2
ldc 1
le
brt Then
ldl -2
ldl -2
ldc 1
sub
bsr fac
ldr RR
mul
str RR
bra End
Then:
ldc 1
str RR
End:
unlink
ret
main:
ldc 10
bsr fac
ldr RR
trap 0
halt
